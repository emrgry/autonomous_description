<?xml version="1.0" ?>
<robot name="car" xmlns:xacro="http://ros.org/wiki/xacro">

    <!--        CHASIS      -->
    <link name="base_footprint"/>

    <joint name="chassis_joint" type="fixed">
      <parent link="base_footprint"/>
      <child link="chassis"/>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <axis xyz="1 0 0"/>
    </joint>

    <link name="chassis">
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://autonomous_description/meshes/sisu-20d.dae"/>
        </geometry>
      </visual>
      <inertial>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <mass value="140" />
        <inertia
            ixx="16.3"
            ixy="0"
            ixz="0"
            iyy="33.6"
            iyz="0"
            izz="47.9" />
      </inertial>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://autonomous_description/meshes/sisu-20d.dae"/>
        </geometry>
      </collision>
    </link>

    <!--        WHEELS      -->
    <!--        right front wheel-->
    <link name="right_front_wheel">
        <inertial>
          <origin xyz="0 0 0" rpy="0 0 0" />
          <mass value="10.0"/>
          <inertia ixx="0.3" ixy="0" ixz="0" iyy="0.2" iyz="0" izz="0.2"/>
        </inertial>
        <visual>
          <origin xyz="0 0 0" rpy="1.5708 0 0"/>
          <geometry>
            <mesh filename="package://autonomous_description/meshes/wheel_right.dae"/>
          </geometry>
          <material name="tire_mat"/>
        </visual>
        <collision>
          <origin xyz="0 0 0" rpy="1.5708 0 0"/>
          <geometry>
            <cylinder radius="0.2525" length="0.2"/>
          </geometry>
        </collision>
    </link>

    <gazebo reference="right_front_wheel">
        <material>Gazebo/Black</material>
        <mu1>2</mu1>
        <mu2>2</mu2>
        <kp>1e8</kp>
    </gazebo>

    <link name="right_steering_hinge">
        <inertial>
          <origin xyz="0 0 0" rpy="0 0 0" />
          <mass value="1"/>
          <inertia ixx="0.04" ixy="0.0" ixz="0.0" iyy="0.04" iyz="0.0" izz="0.04"/>
        </inertial>
    </link>

    <joint name="right_steering_hinge_joint" type="revolute">
        <origin xyz="0.79 -0.7 0" rpy="0 0 0"/>
        <parent link="base_footprint"/>
        <child link="right_steering_hinge"/>
        <axis xyz="0 0 1"/>
        
        <limit lower="-0.52" upper="0.52" effort="10000000" velocity="1000000"/>
    </joint>

    <joint name="front_right_wheel_joint" type="continuous">
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <parent link="right_steering_hinge"/>
        <child link="right_front_wheel"/>
        <axis xyz="0 1 0"/>
        <limit lower="0" upper="0" effort="10000000" velocity="1000000"/>
    </joint>

        <!--        FRONT LEFT WHEEL        -->
    <link name="left_front_wheel">
        <inertial>
          <origin xyz="0 0 0" rpy="0 0 0" />
          <mass value="10.0"/>
          <inertia ixx="0.3" ixy="0" ixz="0" iyy="0.2" iyz="0" izz="0.2"/>
        </inertial>
        <visual>
          <origin xyz="0 0 0" rpy="1.5708 0 0"/>
          <geometry>
            <mesh filename="package://autonomous_description/meshes/wheel_left.dae"/>
          </geometry>
          <material name="tire_mat"/>
        </visual>
        <collision>
          <origin xyz="0 0 0" rpy="1.5708 0 0"/>
          <geometry>
            <cylinder radius="0.2525" length="0.2"/>
          </geometry>
        </collision>
    </link>

    <gazebo reference="left_front_wheel">
        <material>Gazebo/Black</material>
        <mu1>2</mu1>
        <mu2>2</mu2>
        <kp>1e8</kp>
    </gazebo>

    <link name="left_steering_hinge">
        <inertial>
          <origin xyz="0 0 0" rpy="0 0 0" />
          <mass value="1"/>
          <inertia ixx="0.04" ixy="0.0" ixz="0.0" iyy="0.04" iyz="0.0" izz="0.04"/>
        </inertial>
    </link>

    <joint name="left_steering_hinge_joint" type="revolute">
        <origin xyz="0.79 0.7 0" rpy="0 0 0"/>
        <parent link="base_footprint"/>
        <child link="left_steering_hinge"/>
        <axis xyz="0 0 1"/>
        
        <limit lower="-0.52" upper="0.52" effort="10000000" velocity="1000000"/>
    </joint>

    <joint name="front_left_wheel_joint" type="continuous">
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <parent link="left_steering_hinge"/>
        <child link="left_front_wheel"/>
        <axis xyz="0 1 0"/>
        <limit lower="0" upper="0" effort="10000000" velocity="1000000"/>
    </joint>


    <!--        REAR RIGHT WHEEL        -->
    <link name="right_rear_wheel">
        <inertial>
          <origin xyz="0 0 0" rpy="0 0 0" />
          <mass value="10.0"/>
          <inertia ixx="0.3" ixy="0" ixz="0" iyy="0.2" iyz="0" izz="0.2"/>
        </inertial>
        <visual>
          <origin xyz="0 0 0" rpy="1.5708 0 0"/>
          <geometry>
            <mesh filename="package://autonomous_description/meshes/wheel_right.dae"/>
          </geometry>
          <material name="tire_mat"/>
        </visual>
        <collision>
          <origin xyz="0 0 0" rpy="1.5708 0 0"/>
          <geometry>
            <cylinder radius="0.2525" length="0.2"/>
          </geometry>
        </collision>
    </link>

    <gazebo reference="right_rear_wheel">
        <material>Gazebo/Black</material>
        <mu1>2</mu1>
        <mu2>2</mu2>
        <kp>1e8</kp>
    </gazebo>

    <link name="right_rear_steering_hinge">
        <inertial>
          <origin xyz="0 0 0" rpy="0 0 0" />
          <mass value="1"/>
          <inertia ixx="0.04" ixy="0.0" ixz="0.0" iyy="0.04" iyz="0.0" izz="0.04"/>
        </inertial>
    </link>

    <joint name="right_rear_steering_hinge_joint" type="revolute">
        <origin xyz="0.79 -0.7 0" rpy="0 0 0"/>
        <parent link="base_footprint"/>
        <child link="right_rear_steering_hinge"/>
        <axis xyz="0 0 1"/>
        
        <limit lower="-0.52" upper="0.52" effort="10000000" velocity="1000000"/>
    </joint>

    <joint name="rear_right_wheel_joint" type="continuous">
        <origin xyz="-0.79 -0.7 0"
                rpy="0 0 0"/>
        <parent link="base_footprint"/>
        <child link="right_rear_wheel"/>
        <axis xyz="0 1 0"/>
        <limit lower="0" upper="0" effort="10000000" velocity="1000000"/>
    </joint>

    <!--        REAR LEFT WHEEL        -->
    <link name="left_rear_wheel">
        <inertial>
          <origin xyz="0 0 0" rpy="0 0 0" />
          <mass value="10.0"/>
          <inertia ixx="0.3" ixy="0" ixz="0" iyy="0.2" iyz="0" izz="0.2"/>
        </inertial>
        <visual>
          <origin xyz="0 0 0" rpy="1.5708 0 0"/>
          <geometry>
            <mesh filename="package://autonomous_description/meshes/wheel_right.dae"/>
          </geometry>
          <material name="tire_mat"/>
        </visual>
        <collision>
          <origin xyz="0 0 0" rpy="1.5708 0 0"/>
          <geometry>
            <cylinder radius="0.2525" length="0.2"/>
          </geometry>
        </collision>
    </link>

    <gazebo reference="left_rear_wheel">
        <material>Gazebo/Black</material>
        <mu1>2</mu1>
        <mu2>2</mu2>
        <kp>1e8</kp>
    </gazebo>

    <link name="left_rear_steering_hinge">
        <inertial>
          <origin xyz="0 0 0" rpy="0 0 0" />
          <mass value="1"/>
          <inertia ixx="0.04" ixy="0.0" ixz="0.0" iyy="0.04" iyz="0.0" izz="0.04"/>
        </inertial>
    </link>

    <joint name="left_rear_steering_hinge_joint" type="revolute">
        <origin xyz="0.79 0.7 0" rpy="0 0 0"/>
        <parent link="base_footprint"/>
        <child link="left_rear_steering_hinge"/>
        <axis xyz="0 0 1"/>
        <limit lower="-0.52" upper="0.52" effort="10000000" velocity="1000000"/>
    </joint>

    <joint name="rear_left_wheel_joint" type="continuous">
        <origin xyz="-0.79 0.7 0" rpy="0 0 0"/>
        <parent link="base_footprint"/>
        <child link="left_rear_wheel"/>
        <axis xyz="0 1 0"/>
        <limit lower="0" upper="0" effort="10000000" velocity="1000000"/>
    </joint>

</robot>